(()=>{"use strict";!function(e){const{file:t}=function(e){return{file:class extends e.HTMLInputElement{constructor(){super(),this._dataTransfer=new DataTransfer,this.addEventListener("change",(e=>{this.dataset.dropArea&&this._addFiles(this.files,!0)})),this._handlerDrag=e=>{"dragover"===e.type||"dragenter"===e.type?this.state&&(this.state.dragging=!0):"dragleave"!==e.type&&"dragend"!==e.type&&"drop"!==e.type||(e.preventDefault(),this.state&&(this.state.dragging=!1),"drop"===e.type&&this._addFiles(e.dataTransfer.files))}}connectedCallback(){if(this.dataset.dropArea){const e=this.closest(this.dataset.dropArea);["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"].forEach((t=>{e.removeEventListener(t,this._handlerDrag),e.addEventListener(t,this._handlerDrag)}))}}_addFiles(e,t=!1){if(t){if(this._prevFilesDirectSelection)for(let e=0;e<this._prevFilesDirectSelection.length;e++)this._dataTransfer.items.remove(this._prevFilesDirectSelection[e]);this._prevFilesDirectSelection=e}if(this.multiple)for(let t=0;t<e.length;t++)this._dataTransfer.items.add(e[t]);else this._dataTransfer.items.clear(),this._dataTransfer.items.add(e[0]);this.files=this._dataTransfer.files,this.state&&(this.state.thumbnails=Array.from(this.files).map((e=>this._createThumbnail(e))))}_createThumbnail(t){var s=`${t.name}: ${t.size/1024}KB`,r=t=>e.URL.revokeObjectURL(t.src);if(/^image\//.test(t.type)){var a=document.createElement("img");return a.onload=e=>{r(a)},a.src=e.URL.createObjectURL(t),{thumbnail:a,type:"image",mime:t.type,desc:s}}if(/^video\//.test(t.type)){var i=document.createElement("video");return i.onloadstart=e=>{r(i),i.play()},i.src=e.URL.createObjectURL(t),i.muted=!0,{thumbnail:i,type:"video",mime:t.type,desc:s}}var d="file";return/^audio\//.test(t.type)?d="audio":/msword|ms-word|wordprocessing/.test(t.type)?d="word":/powerpoint|presentation/.test(t.type)?d="powerpoint":/excel|spreadsheet/.test(t.type)?d="excel":/^text\//.test(t.type)?d="text":/\/pdf/.test(t.type)?d="pdf":/\/zip/.test(t.type)&&(d="zip"),{type:d,mime:t.type,desc:s}}}}}(e);e.customElements.define("playui-file-input",t,{extends:"input"})}(window)})();
//# sourceMappingURL=main.js.map