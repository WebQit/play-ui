!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=function(t){return"function"==typeof t},i=function(t){return Array.isArray(t)||"object"==typeof t&&t||r(t)},a=function(t){return t instanceof Number||"number"==typeof t},s=function(t){return a(t)||!0!==t&&!1!==t&&null!==t&&""!==t&&!isNaN(1*t)},o=function(t,e){var n=void 0;return i(t)&&Object.keys(t).forEach((r,i)=>{!1!==n&&(n=e(s(r)?parseFloat(r):r,t[r],i))}),n},l=function(t,e,n=!1){for(var r=t.indexOf(e);r>-1&&(n||!1===n);)t.splice(r,1),n>0&&n--,r=t.indexOf(e);return t},c=function(t,...e){return e.forEach(e=>{t.indexOf(e)<0&&t.push(e)}),t},h=function(t){return t instanceof String||"string"==typeof t&&null!==t},u=function(t){return Array.isArray(t)},f=function(t){return!Array.isArray(t)&&"object"==typeof t&&t},d=function(t){return r(t)||t&&"[object function]"==={}.toString.call(t)},p=function(t){return arguments.length&&(void 0===t||void 0===t)},g=function(t){return function(t){return null===t||""===t}(t)||p(t)||!1===t||0===t||i(t)&&!Object.keys(t).length},y=function(t,e=!0){return u(t)?t:!e&&f(t)?[t]:!1!==t&&0!==t&&g(t)?[]:function(t){return!h(t)&&!p(t.length)}(t)?Array.prototype.slice.call(t):f(t)?Object.values(t):[t]},m=function(t,e){return void 0===t?"":t.split(/(?=[A-Z])/).join(e||" ")},b=function(t){var e,n,r=(n=!0,e=function(t,e){return"string"!=typeof t?t:t.replace(/\w\S*/g,(function(t){return t.charAt(0).toUpperCase()+(void 0!==typeof e&&e?t.substr(1).toLowerCase():t.substr(1))}))}((e=t).replace(/-/g," ")).replace(/ /g,""),n?e:e[0].toLowerCase()+e.substr(1));if(this.prefix.api+r in this.window.document.body.style)return this.prefix.css+m(t,"-")},v=function(t,e,n){var r={},i=y(t),a=(t,a)=>{var s=m(a,"-").toLowerCase();if("auto"===n)r[s]=e(b.call(this,s)||s,i[t]);else{if(n){var o=b.call(this,s);o&&(r[o]=e(o,i[t]))}r[s]=e(s,i[t])}};return o(i,(t,e)=>{a(t,e)}),u(t)||n||"size"===t||"offsets"===t?r:r[t]};const w=class{constructor(t){o(t,(t,e)=>{["rotate","scale","skew","translate"].includes(t)&&(this[t]=u(e)?new w[t](...e):new w[t](e))})}toString(){return["rotate","scale","skew","translate"].reduce((t,e)=>t+(this[e]&&this[e].length?" "+this[e]:""),"").trim()}static parse(t,e){var n=function(t){return Math.round(100*t)/100},r=function(t){var e=180*t/Math.PI;return n(e)},i=function(e){var n=[];if(t.window.WebKitCSSMatrix)return[(n=new t.window.WebKitCSSMatrix(e)).a,n.b,n.c,n.d,n.e,n.f];for(var r,i=/[\d\.\-]+/g;r=i.exec(e);)n.push(+r);return n}(e),a=i[0],s=i[1],o=i[2],l=i[3];if(a*l==s*o)throw new Error("Dramatic.parseTransform: matrix is singular");var c=Math.sqrt(a*a+s*s),h=(a/=c)*o+(s/=c)*l;o-=a*h,l-=s*h;var u=Math.sqrt(o*o+l*l);return h/=u,a*(l/=u)<s*(o/=u)&&(a=-a,s=-s,h=-h,c=-c),new w({translate:[i[4],i[5]],scale:[n(c),n(u)],rotate:r(Math.atan2(s,a)),skew:r(Math.atan(h))})}};w.rotate=class extends Array{toString(){return"rotate("+this.map(t=>s(t)?t+"deg":t).join(", ")+")"}},w.scale=class extends Array{toString(){return"scale("+this.join(", ")+")"}},w.skew=class extends Array{toString(){return"skew("+this.map(t=>s(t)?t+"deg":t).join(", ")+")"}},w.translate=class extends Array{toString(){return"translate("+this.map(t=>s(t)?t+"px":t).join(", ")+")"}};var $=w,O=function(t,e,n=null){var r=this.window.getComputedStyle(t,n);return v.call(this,e,(t,e)=>{var n=r.getPropertyValue(b.call(this,t)||t);return"width"!==t&&"height"!==t||""!==n||(n="0px"),"transform"===t&&(n=$.parse(this,n)),n},!1)},k=["width","height","top","left","right","bottom","padding","padding-top","padding-left","padding-right","padding-bottom","margin","margin-top","margin-left","margin-right","margin-bottom","border-width","border-top-width","border-left-width","border-right-width","border-bottom-width","outline-width","outline-top-width","outline-left-width","outline-right-width","outline-bottom-width"],E=function(t,e,n=null){e=h(e)?function(t,e=null){var n={};return 2===arguments.length&&(u(t)&&u(e)?t.forEach((t,r)=>n[t]=e[r]):n[t]=e),n}(e,n):e;var r={inset:["top","right","bottom","left"],margin:["top","right","bottom","left"],padding:["top","right","bottom","left"]};return v.call(this,Object.keys(e),(n,i)=>{var a=e[i];o(r,(t,e)=>{n===t&&(f(a)&&(a=e.map(t=>a[t]).filter(t=>!p(t))),u(a)&&(a=a.join(" ")))}),"transform"!==n||!f(a)||a instanceof $||(a=new $(a).toString()),t.style[n]=k.includes(n)&&s(a)?a+"px":a},"auto"),t},x=function(t,e,n="auto"){var r=t.getAttribute("style");return"all"===e&&(e=r.split(";").map(t=>t.split(":")[0])),v.call(this,e,t=>(new RegExp(";[ ]*?"+t+":([^;]+);?","g").exec(";"+r)||["",""])[1].trim(),n)},C=function(t,e,n=null){return this.Reflow.onread((r,i)=>{try{r(d(e)?e(t):O.call(this,t,e,n))}catch(t){i(t)}},!0)},S=function(t,e,n=null){return this.Reflow.onwrite((r,i)=>{try{r(d(e)?e(t):E.call(this,t,e,n))}catch(t){i(t)}},!0)},j=async function(t,e,n=null,r=(null.asyncMode=!1)){var i=f(e)?Object.keys(e):e;r=f(e)?n:r;var a=x.call(this,t,i);await(asyncMode?S:E).call(this,t,e,n);var s=(asyncMode?C:O).call(this,t,r||i);return await(asyncMode?S:E).call(this,t,a),s},A=function(t,e){var n=[];return function(t,e){e=(e=e||Object.prototype)&&!u(e)?[e]:e;var n=[];for(t=t;t&&(!e||e.indexOf(t)<0)&&"default"!==t.name;)n.push(t),t=t?Object.getPrototypeOf(t):null;return n}(t,e).forEach(t=>{c(n,...Object.getOwnPropertyNames(t))}),n};function M(t,e,n=!1,r=!1,a=!1){var o=0,l=t.shift();if((s(l)||!0===l||!1===l)&&(o=l,l=t.shift()),!t.length)throw new Error("_merge() requires two or more array/objects.");return t.forEach((t,c)=>{(i(t)||d(t))&&(n?A(t):Object.getOwnPropertyNames(t)).forEach(i=>{if(e(i,l,t,c)){var h=l[i],d=t[i];if((u(h)&&u(d)||f(h)&&f(d))&&(!0===o||o>0))l[i]=u(h)&&u(d)?[]:{},M([s(o)?o-1:o,l[i],h,d],e,n,r,a);else if(u(l)&&u(t))r?l[i]=d:l.push(d);else try{a?Object.defineProperty(l,i,Object.getOwnPropertyDescriptor(t,i)):l[i]=t[i]}catch(t){}}})}),l}var P=function(t,e=[]){return M([{},t],(t,n,r)=>{if(!d(r[t]))return d(e)?e(t):!u(e)||!e.length||e.indexOf(t)>-1},!1,!1,!1)},q=function(t,e=!1){var n=document.styleSheets,r=function(e){try{for(var n=0;n<e.cssRules.length;n++){var r=e.cssRules[n];if(!0===t(r))return!0}}catch(t){}};if(e){for(var i=n.length-1;i>=0;i--)if(!0===r(n[i]))return!0}else for(i=0;i<n.length;i++)if(!0===r(n[i]))return!0},R=function(t){var e={};return t.split(";").filter(t=>t).forEach(t=>{t=t.split(":"),e[t[0].trim()]=t[1].trim()}),e},L=function(t,e,n=!0){var r=u(t)?t.join("|"):t;if(!e&&D[r])return D[r];var i=[];return q.call(this,e=>{if((e.type===this.window.CSSRule.KEYFRAMES_RULE||e.type===this.window.CSSRule[this.prefix.api.toUpperCase()+"_KEYFRAMES_RULE"])&&(u(t)?t:[t]).indexOf(e.name)>-1)return i=i.concat(i,function(t){for(var e=[],r=0;r<t.cssRules.length;r++){var i=t.cssRules[r],a=R(i.cssText.replace(i.keyText,"").replace("{","").replace("}","").trim()),s=(i.keyText||" ").split(",").map(t=>"from"===t?0:"to"===t?1:parseInt(t)/100);if(n)for(T(a,["animation-","transition-"]);s.length;){var o=P(a);o.offset=s.shift(),e.push(o)}else a.offset=s.length>1?s:s[0],e.push(a)}return e.sort((t,e)=>t.offset===e.offset?0:t.offset>e.offset?1:-1)}(e)),!0},!0),D[r]=i,i};const T=function(t,e,n=""){u(n)?n.forEach(e=>T(t,e)):(t[n+"timing-function"]&&(t.easing=t[n+"timing-function"],delete t[n+"timing-function"]),t[n+"fill-mode"]&&(t.fill=t[n+"fill-mode"],delete t[n+"fill-mode"]),t[n+"iteration-count"]&&(t.iterations=t[n+"iteration-count"],delete t[n+"iteration-count"],"infinite"===t.iterations&&(t.iterations=1/0)))},D={};var F=function(t){t=t.indexOf("-")?t:m(t,"-");return this.window.getComputedStyle(this.window.document.body).getPropertyValue("--"+t)};class _{constructor(t,e,n={}){this.el=t,this.$={readyCallbacks:[],finishCallbacks:[],cancelCallbacks:[],params:n},n.fill=n.fill||"both","duration"in n||(n.duration=400),n.easing&&-1===["ease-in","ease-out","ease-in-out"].indexOf(n.easing)&&-1===n.easing.indexOf("(")&&(n.easing=F.call(WQ.DOM,n.easing)||n.easing);var r={inset:["top","right","bottom","left"],margin:["top","right","bottom","left"],padding:["top","right","bottom","left"]};const i=t=>{t=t.slice();var e={},i={};o(t,(t,n)=>{o(r,(t,e)=>{n[t]&&(f(n[t])&&(n[t]=e.map(e=>n[t][e]).filter(t=>!p(t))),u(n[t])&&(n[t]=n[t].join(" ")))}),!n.transform||!f(n.transform)||n.transform instanceof $||(n.transform=new $(n.transform).toString()),function(t,...e){return e.forEach(e=>l(t,e)),t}(Object.keys(n),"offset","easing").forEach(t=>{k.includes(t)&&s(n[t])&&(n[t]+="px"),e[t]=void 0===e[t]?n[t]:e[t],i[t]=n[t]})});try{var a=this.el.animate(t,n)}catch(t){return void(this.$.error=t)}n.reverse&&a.reverse(),a.effect||(a.effect={}),a.effect.duration||(a.effect.duration=n.duration),a.onfinish=()=>{n.cancelForCss&&(a.cancel(),"forwards"!==n.fill&&"both"!==n.fill||E.call(WQ.DOM,this.el,i)),this.$.finishCallbacks.forEach(t=>{t(this.el)})},a.oncancel=()=>{this.$.cancelCallbacks.forEach(t=>{t(this.el)})},this.$.anim=a,this.$.firstFrame=e,this.$.lastFrame=i,this.$.params=n,this.$.readyCallbacks.length&&this.$.readyCallbacks.forEach(t=>t(a,n,e,i))};d(e)?e(t,i):_.createCallback(t,e,i,t=>{this.$.error=t})}get anim(){return this.$.anim}ready(t,e){this.$.error?e&&e(this.$.error):this.$.anim?t(this.$.anim,this.$.params,this.$.firstFrame,this.$.lastFrame):this.$.readyCallbacks.push(t)}onfinish(t){if(!d(t))throw new Error("Onfinish() accepts only a function.");return this.$.finishCallbacks.push(t),this}oncancel(t){if(!d(t))throw new Error("Oncancel() accepts only a function.");return this.$.cancelCallbacks.push(t),this}progress(){return this.$.anim?this.$.anim.currentTime/this.$.anim.effect.duration:0}seek(t){if(!a(t))throw new Error("Seek() accepts only a numeric value.");return this.ready((e,n)=>{var r=n.duration+(n.delay||0)+(n.endDelay||0);e.currentTime=Math.max(0,Math.min(t*r,r))}),this}reverse(){return this.ready(t=>t.reverse()),this}play(){return new Promise((t,e)=>{this.ready(n=>{n.play(),this.onfinish(()=>t(this)),this.oncancel(()=>e(this))},e)})}pause(){return this.ready(t=>t.pause()),this}finish(){return this.ready(t=>t.finish()),this}cancel(){return this.ready(t=>t.cancel()),this}static createCallback(t,e,n,r){var i=f(e)&&!Object.values(e).filter(t=>u(t)).length,a=u(e)&&e.length>1&&g(e[0]);if(i||a)WQ.DOM.Reflow.onread(()=>{a?(e.shift(),_.createCallback(t,[O.call(WQ.DOM,t,Object.keys(e[0])),...e],n,r)):_.createCallback(t,[O.call(WQ.DOM,t,Object.keys(e)),e],n,r)});else{if(h(e)){var s=e;!(e=L.call(WQ.DOM,s)).length&&r&&r('Animation name "'+s+'" not found in any stylesheet!')}if(u(e)){var l=[];if(o(e,(t,e)=>{"auto"===e.height&&c(l,t),"auto"===e.width&&c(l,t)}),l.length)return void j.call(WQ.DOM,t,{width:"auto",height:"auto"},t=>t.getBoundingClientRect()).then(t=>{l.forEach(n=>{"auto"===e[n].width&&(e[n].width=t.width+"px"),"auto"===e[n].height&&(e[n].height=t.height+"px")}),n(e)})}n(e)}}}var W=class{constructor(t=[],e={}){this.$={animations:[],finishCallbacks:[],cancelCallbacks:[],params:e},t.forEach(t=>{this.add(t)})}add(t){if(!(t instanceof _))throw new Error("Argument#1 must be an Ani instance!");switch(this.$.animations.push(t),this.$.addCallback&&this.$.addCallback(t),this.$.playState){case"paused":t.pause();break;case"cancelled":t.cancel();break;case"finished":t.finish()}return this.$.reversed&&t.reverse(),this}remove(t){if(!(t instanceof _))throw new Error("Argument#1 must be an Ani instance!");return l(this.$.animations,t),this.$.removeCallback&&this.$.removeCallback(t),this}onfinish(t){if(!d(t))throw new Error("Onfinish() accepts only a function.");return this.$.finishCallbacks.push(t),this}oncancel(t){if(!d(t))throw new Error("Oncancel() accepts only a function.");return this.$.cancelCallbacks.push(t),this}progress(){return this.$.animations.reduce((t,e)=>t.progress()+e.progress(),0)/this.$.animations.length}play(){return this.$.playState="playing",new Promise((t,e)=>{var n,r,i=()=>{n||(n=!0,this.$.finishCallbacks.forEach(t=>t()),t())},a=()=>{r||(r=!0,this.$.cancelCallbacks.forEach(t=>t()),e())},s=this.$.animations.length;this.$.animations.forEach(t=>{t.play().then(()=>{!--s>0&&i()}).catch(a)}),this.$.addCallback=t=>{"playing"===this.$.playState&&(s++,t.play().then(()=>{!--s>0&&i()}).catch(a))},this.$.removeCallback=t=>{s--}})}seek(t,e=[]){this.each(e=>e.seek(t),e)}reverse(t=[]){this.$.reversed=!this.$.reversed,this.each(t=>t.reverse(),t)}pause(t=[]){this.$.playState="paused",this.each(t=>t.pause(),t)}finish(t=[]){this.$.playState="finished",this.each(t=>t.finish(),t)}cancel(t=[]){this.$.playState="cancelled",this.each(t=>t.cancel(),t)}clear(t=[]){this.$.animations=this.$.animations.filter(e=>{if(!t||!y(t,!1).includes(e.el))return!1})}each(t,e=[]){this.$.animations.forEach(n=>{e&&y(e,!1).includes(n.el)||t(n)})}},N=function(t,e=1){var n=0;t.forEach(t=>{n++});var r=t.slice(t.length-n,e);return arguments.length>1?r:r[0]},Q=class{constructor(t=[],e={}){this.$={},this.$.entries=[],this.$.params=e,this.nowPlaying=new W,t.forEach(t=>{this.add(t,e.timing)}),this.queue=[]}add(t,e={},n={},r=null,i=null){if(!this.$.entries.filter(e=>e.el===t).length){var a={el:t,effect:e,params:n,onfinish:r,oncancel:i};this.$.entries.push(a),this.nowPlayingAdd(a)}}remove(t){this.$.entries=this.$.entries.filter(e=>e.el!==t)}nowPlayingAdd(t){if(this.nowPlayingEffect){var e=(t,e,n,r)=>{var i=new _(e.el,n,r);t.add(i),r.oneoff&&i.onfinish(()=>{t.remove(i),this.remove(e.el)}),e.onfinish&&i.onfinish(e.onfinish),e.oncancel&&i.oncancel(e.oncancel)},n=(t,r)=>{var i=r[0],s=g(i.effect)?this.nowPlayingEffect:i.effect,o=function(...t){return M(t,(t,e,n)=>!0,!1,!1,!1)}({},this.nowPlayingParams,i.params);if(o.delay=o.delay||0,a(o.lag)||a(o.endLag)){var l=function(t,e=1){return arguments.length>1?N(t.slice().reverse(),e).reverse():N(t.slice().reverse())}(t.$.animations);if(l)return void l.ready((l,c)=>{a(o.lag)?o.delay+=c.delay+o.lag:o.delay+=c.delay+parseFloat(c.endDelay)+c.duration+o.endLag,o.delay-=a(l.currentTime)?l.currentTime:0,e(t,i,s,o),r.shift(),r.length&&n(t,r)})}e(t,i,s,o),r.shift(),r.length&&n(t,r)};this.queue.push(t),1===this.queue.length&&n(this.nowPlaying,this.queue)}}play(t={},e={}){return this.nowPlayingEffect&&(this.nowPlaying=new W,this.queue=[]),this.nowPlayingEffect=t,this.nowPlayingParams=e,(e.reverseList?this.$.entries.slice().reverse():this.$.entries).forEach(t=>{e.except&&y(e.except,!1).includes(t.el)||e.only&&!y(e.only,!1).includes(t.el)||this.nowPlayingAdd(t)}),this.nowPlaying.play()}};!function(t){const{ul:e,li:n}=function(t){return{ul:class extends t.HTMLUListElement{connectedCallback(){var e=parseInt(this.getAttribute("play-seq-scale")||"1"),n=1-e+1,r=this.hasAttribute("play-seq-cancelforcss"),i=this.getAttribute("play-seq-displacement")||"0",a=this.getAttribute("play-seq-orientation")||"v",s=this.getAttribute("play-seq-duration")||200,o=this.getAttribute("play-seq-lag")||100,l=this.getAttribute("play-seq-alpha")||0,c={v:["0",i],h:["-"+i,"0"]},h={v:["0","-"+i],h:[i,"0"]},u=new Q,f=new Q,d={lag:o,oneoff:!0,duration:s,cancelForCss:r};u.play([{opacity:l,transform:{scale:e+"",translate:c[a]}},{opacity:1,transform:{scale:"1",translate:["0","0"]}}],d),f.play([{opacity:l,transform:{scale:n+"",translate:h[a]}},{opacity:1,transform:{scale:"1",translate:["0","0"]}}],d),this.intersectionObserver=new t.IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.boundingClientRect.top<0?f.add(t.target):u.add(t.target))})},{rootMargin:"50px"})}sequenceAdd(t){this.intersectionObserver.observe(t)}},li:class extends t.HTMLLIElement{connectedCallback(){this.parentNode.sequenceAdd&&this.parentNode.sequenceAdd(this)}}}}(t);t.customElements.define("play-seq-ul",e,{extends:"ul"}),t.customElements.define("play-seq-li",n,{extends:"li"})}(window)}]);
//# sourceMappingURL=main.js.map