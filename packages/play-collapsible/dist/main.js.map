{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/js/isTypeFunction.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/js/isTypeObject.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/js/isNumber.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/js/isNumeric.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/obj/each.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/arr/pushUnique.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/js/isString.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/js/isArray.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/js/isObject.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/js/isFunction.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/js/isUndefined.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/js/isEmpty.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/js/isNull.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/arr/from.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/js/isTypeArray.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/str/fromCamel.js","webpack:///../plot-js/src/css/vendorize.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/str/toCamel.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/str/toTitle.js","webpack:///../plot-js/src/css/ruleCallback.js","webpack:///../plot-js/src/css/classes/TransformRule.js","webpack:///../plot-js/src/css/readSync.js","webpack:///../plot-js/src/css/autopx.js","webpack:///../plot-js/src/css/writeSync.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/obj/from.js","webpack:///../plot-js/src/css/readInline.js","webpack:///../plot-js/src/css/readAsync.js","webpack:///../plot-js/src/css/writeAsync.js","webpack:///../plot-js/src/css/readRendering.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/obj/getAllPropertyNames.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/obj/getPrototypeChain.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/obj/copyPlain.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/obj/mergeCallback.js","webpack:///../plot-js/src/css/stylesheetRuleCallback.js","webpack:///../plot-js/src/css/parseRules.js","webpack:///../plot-js/src/css/readKeyframes.js","webpack:///../plot-js/src/css/varRead.js","webpack:///../play-js/src/animation/Ani.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/arr/exclude.js","webpack:///C:/Users/ox_ha/Documents/CODE/webqit/util/arr/remove.js","webpack:///../play-js/src/animation/play.js","webpack:///./src/index.js","webpack:///./src/dfn.js","webpack:///./src/browser-entry.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","val","Array","isArray","Number","isNaN","returnValue","undefined","obj","keys","forEach","k","callback","parseFloat","items","itm","arr","indexOf","push","String","toString","arguments","length","castObject","slice","values","str","split","join","delimiter","camelCasedProp","replace","txt","charAt","toUpperCase","strict","substr","toLowerCase","prop","fromStart","this","prefix","api","window","document","body","style","css","valsList","propsList","props","callCallback","normalProp","withVendorVersion","vendorize","vendorizedProp","TransformRule","transformRules","rule","includes","reduce","trim","CTXT","round","Math","r2d","radians","deg","PI","transformStr","WebKitCSSMatrix","a","b","e","f","rdigit","exec","stom","A","B","C","D","Error","scaleX","sqrt","skew","scaleY","translate","scale","rotate","atan2","atan","map","getComputedStyle","el","psuedo","ruleCallback","rawProp","getPropertyValue","parse","nameOrProps","destructables","inset","margin","padding","destructableProp","meaning","filter","autopx","getAttribute","RegExp","Reflow","onread","resolve","reject","readSync","onwrite","writeSync","propsToRead","readCallback","inlineSavepoint","then","rendering","keysAll","until","prototypalChain","getPrototypeOf","getOwnPropertyNames","mergeCallback","objs","deepProps","isReplace","withSymbols","depth","obj1","shift","obj2","valAtObj1","valAtObj2","getOwnPropertyDescriptor","stylesheets","styleSheets","stylesheetCallback","stylesheet","cssRules","ruleDefinition","reversed","_split","cacheKey","noCache","stylesheetKeyframesCache","allKeyframes","stylesheetRuleCallback","type","CSSRule","KEYFRAMES_RULE","concat","keyframes","keyframeRule","keyframe","parseRules","cssText","keyText","offsets","parseInt","normalize","normalizeToWAAPI","_keyframe","offset","sort","parseKeyframes","animationProps","pref","easing","fill","iterations","Infinity","effect","params","$","readyCallbacks","finishCallbacks","cancelCallbacks","duration","WQ","DOM","init","firstFrame","lastFrame","transform","itms","limit","splice","anim","animate","error","reverse","onfinish","cancelForCss","cancel","oncancel","createCallback","succes","currentTime","to","ready","totalDuration","delay","endDelay","max","min","Promise","play","pause","finish","isObjectAndOnlyLastKeyframe","v","isArrayButEmptyFirstKeyframe","animationName","keyframesWithAutoSizes","height","width","readRendering","getBoundingClientRect","result","ul","li","HTMLUListElement","bindings","state","orientation","opacity","timing","expand","collapse","HTMLLIElement","parentNode","collapsibleAdd","dfn","customElements","define","extends"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\r\n/**\r\n * Tells if val is of type \"function\".\r\n * This holds true for both regular functions and classes.\r\n *\r\n * @param object\t \tval\r\n *\r\n * @return bool\r\n */\r\nexport default function(val) {\r\n\treturn typeof val === 'function';\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _isTypeFunction from './isTypeFunction.js';\r\n\r\n/**\r\n * Tells if val is of type \"object\".\r\n * This holds true for anything object, including built-ins.\r\n *\r\n * @param object\t \tval\r\n *\r\n * @return bool\r\n */\r\nexport default function(val) {\r\n\treturn Array.isArray(val) || (typeof val === 'object' && val) || _isTypeFunction(val);\r\n};\r\n","\r\n/**\r\n * Tells if val is of type \"number\".\r\n *\r\n * @param string \tval\r\n *\r\n * @return bool\r\n */\r\nexport default function(val) {\r\n\treturn val instanceof Number || (typeof val === 'number');\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _isNumber from './isNumber.js';\r\n/**\r\n * Tells if val is of type \"string\" or a numeric string.\r\n * This holds true for both numbers and numeric strings.\r\n *\r\n * @param string \tval\r\n *\r\n * @return bool\r\n */\r\nexport default function(val) {\r\n\treturn _isNumber(val) || (val !== true && val !== false && val !== null && val !== '' && !isNaN(val * 1));\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _isTypeObject from '../js/isTypeObject.js';\r\nimport _isNumeric from '../js/isNumeric.js';\r\n\r\n/**\r\n * Loops thru obj flatly with a callback function.\r\n * Stops when callback returns a non-undefined value.\r\n *\r\n * @param array|object \t\t\tobj \t\t\tThe array or object to iterate.\r\n * @param function \t\t\t\tcallback \t\tThe callback function.\r\n *\r\n * @return mixed|null\t\t\tAny non-null return from callback\r\n */\r\nexport default function(obj, callback) {\r\n\tvar returnValue = undefined;\r\n\tif (_isTypeObject(obj)) {\r\n\t\tObject.keys(obj).forEach((k, i) => {\r\n\t\t\tif (returnValue !== false) {\r\n\t\t\t\treturnValue = callback(_isNumeric(k) ? parseFloat(k) : k, obj[k], i);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\treturn returnValue;\r\n};\r\n","\r\n/**\r\n * Adds an item if not already exist.\r\n *\r\n * @param array \tarr\r\n * @param array\t \t...itms\r\n *\r\n * @return array\r\n */\r\nexport default function(arr, ...items) {\r\n\titems.forEach(itm => {\r\n\t\tif (arr.indexOf(itm) < 0) {\r\n\t\t\tarr.push(itm);\r\n\t\t}\r\n\t});\r\n\treturn arr;\r\n};\r\n","\r\n/**\r\n * Tells if val is of type \"string\".\r\n *\r\n * @param string \tval\r\n *\r\n * @return bool\r\n */\r\nexport default function(val) {\r\n\treturn val instanceof String || (typeof val === 'string' && val !== null);\r\n};\r\n","\r\n/**\r\n * Tells if val is of type \"array\".\r\n *\r\n * @param object\t \tval\r\n *\r\n * @return bool\r\n */\r\nexport default function(val) {\r\n\treturn Array.isArray(val);\r\n};\r\n","\r\n/**\r\n * Tells if val is pure object.\r\n *\r\n * @param object\t \tval\r\n *\r\n * @return bool\r\n */\r\nexport default function(val) {\r\n\treturn !Array.isArray(val) && typeof val === 'object' && val;\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _isTypeFunction from './isTypeFunction.js';\r\n\r\n/**\r\n * Tells if val is of type \"function\".\r\n *\r\n * @param object \t\tval\r\n *\r\n * @return bool\r\n */\r\nexport default function(val) {\r\n\treturn _isTypeFunction(val) || (val && {}.toString.call(val) === '[object function]');\r\n};\r\n","\r\n/**\r\n * Tells if val is undefined or is of type \"undefined\".\r\n *\r\n * @param string \tval\r\n *\r\n * @return bool\r\n */\r\nexport default function(val) {\r\n\treturn arguments.length && (val === undefined || typeof val === 'undefined');\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _isNull from './isNull.js';\r\nimport _isUndefined from './isUndefined.js';\r\nimport _isTypeObject from './isTypeObject.js';\r\n\r\n/**\r\n * Tells if val is empty in its own type.\r\n * This holds true for NULLs, UNDEFINED, FALSE, 0,\r\n * objects without keys, empty arrays.\r\n *\r\n * @param string \tval\r\n *\r\n * @return bool\r\n */\r\nexport default function(val) {\r\n\treturn _isNull(val) || _isUndefined(val) || val === false || val === 0 \r\n\t\t|| (_isTypeObject(val) && !Object.keys(val).length);\r\n};\r\n","\r\n/**\r\n * Tells if val is undefined or is null.\r\n *\r\n * @param string \tval\r\n *\r\n * @return bool\r\n */\r\nexport default function(val) {\r\n\treturn val === null || val === '';\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _isArray from '../js/isArray.js';\r\nimport _isTypeArray from '../js/isTypeArray.js';\r\nimport _isEmpty from '../js/isEmpty.js';\r\nimport _isObject from '../js/isObject.js';\r\n\r\n/**\r\n * Casts an array-like object to an array.\r\n *\r\n * @param mixed \tval\r\n * @param bool\t \tcastObject\r\n *\r\n * @return array\r\n */\r\nexport default function(val, castObject = true) {\r\n\tif (_isArray(val)) {\r\n\t\treturn val;\r\n\t};\r\n\tif (!castObject && _isObject(val)) {\r\n\t\treturn [val];\r\n\t};\r\n\tif (val !== false && val !== 0 && _isEmpty(val)) {\r\n\t\treturn [];\r\n\t};\r\n\tif (_isTypeArray(val)) {\r\n\t\treturn Array.prototype.slice.call(val);\r\n\t};\r\n\tif (_isObject(val)) {\r\n\t\treturn Object.values(val);\r\n\t};\r\n\treturn [val];\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _isString from './isString.js';\r\nimport _isUndefined from './isUndefined.js';\r\n\r\n/**\r\n * Tells if val is \"array-like\".\r\n * This holds true for anything that has a length property.\r\n *\r\n * @param object\t \tval\r\n *\r\n * @return bool\r\n */\r\nexport default function(val) {\r\n\treturn !_isString(val) && !_isUndefined(val.length);\r\n};\r\n","\r\n/**\r\n * Splits a camel-cased string.\r\n *\r\n * @param string \tstr\r\n * @param string \tdelimiter\r\n *\r\n * @return string\r\n */\r\nexport default function(str, delimiter) {\r\n\treturn str === undefined ? '' : str.split(/(?=[A-Z])/).join(delimiter ? delimiter : ' '); // positive lookahead to keep the capital letters\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _fromCamel from '@webqit/util/str/fromCamel.js';\r\nimport _toCamel from '@webqit/util/str/toCamel.js';\r\n\r\n/**\r\n * Returns the vendor-specific css property if supported. NULL if not.\r\n *\r\n * @param string \tprop\r\n *\r\n * @return string|NULL\r\n */\r\nexport default function(prop) {\r\n\tvar camelCasedProp = _toCamel(prop, true);\r\n\tif (this.prefix.api + camelCasedProp in this.window.document.body.style) {\r\n\t\treturn this.prefix.css + _fromCamel(prop, '-');\r\n\t}\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _toTitle from './toTitle.js';\r\n\r\n/**\r\n * Makes a string camel-cased.\r\n *\r\n * @param string \tstr\r\n * @param bool\t \tfromStart\r\n *\r\n * @return string\r\n */\r\nexport default function(str, fromStart) {\r\n\t// Make disting words\r\n\tstr = _toTitle(str.replace(/-/g, ' ')).replace(/ /g, '');\r\n\treturn fromStart ? str : str[0].toLowerCase() + str.substr(1);\r\n};\r\n","\r\n/**\r\n * Converts a string to title case.\r\n *\r\n * @param string \tstr\r\n * @param bool \t\tstrict\r\n *\r\n * @return string\r\n */\r\nexport default function(str, strict) {\r\n\tif (typeof str !== 'string') {\r\n\t\treturn str;\r\n\t}\r\n\treturn str.replace(/\\w\\S*/g,  function(txt) { return txt.charAt(0).toUpperCase() + ((typeof strict !== undefined && strict) ? txt.substr(1).toLowerCase() : txt.substr(1)); })\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _arrFrom from '@webqit/util/arr/from.js';\r\nimport _fromCamel from '@webqit/util/str/fromCamel.js';\r\nimport _isArray from '@webqit/util/js/isArray.js';\r\nimport _each from '@webqit/util/obj/each.js';\r\nimport vendorize from './vendorize.js';\r\n\r\n/**\r\n * Loops thru all keys in props calls callback to obtain their value.\r\n *\r\n * @param string|array\t\tprops\r\n * @param function\t\t\tcallback\r\n * @param bool\t\t\t\twithVendorVersion\r\n *\r\n * @return NULL|bool\r\n */\r\nexport default function(props, callback, withVendorVersion) {\r\n\tvar valsList = {};\r\n\tvar propsList = _arrFrom(props);\r\n\tvar callCallback = (i, prop) => {\r\n\t\t// We use the key as given, but we obtain value with\r\n\t\t// We support camel cases, but return their normalized versions\r\n\t\tvar normalProp = _fromCamel(prop, '-').toLowerCase();\r\n\t\t// With vendor verison?\r\n\t\t// We set the vendor version first if support for this property\r\n\t\tif (withVendorVersion === 'auto') {\r\n\t\t\tvalsList[normalProp] = callback(vendorize.call(this, normalProp) || normalProp, propsList[i]);\r\n\t\t} else {\r\n\t\t\tif (withVendorVersion) {\r\n\t\t\t\tvar vendorizedProp = vendorize.call(this, normalProp);\r\n\t\t\t\tif (vendorizedProp) {\r\n\t\t\t\t\tvalsList[vendorizedProp] = callback(vendorizedProp, propsList[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvalsList[normalProp] = callback(normalProp, propsList[i]);\r\n\t\t}\r\n\t};\r\n\t_each(propsList, (i, prop) => {\r\n\t\tcallCallback(i, prop);\r\n\t});\r\n\treturn _isArray(props) || withVendorVersion || props === 'size' || props === 'offsets' \r\n\t\t? valsList \r\n\t\t: valsList[props];\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _each from '@webqit/util/obj/each.js';\r\nimport _isArray from '@webqit/util/js/isArray.js';\r\nimport _isNumeric from '@webqit/util/js/isNumeric.js';\r\n\r\n/**\r\n * ------------------------------\r\n * The little transform utility class\r\n * and stringifyer classes.\r\n * ------------------------------\r\n */\r\nconst TransformRule = class {\r\n\t\r\n\t/**\r\n\t * Creates a new TransformRule instance\r\n\t * and each rule's appropriate class.\r\n\t *\r\n\t * @param object\t\t transformRules\r\n\t *\r\n\t * @return this\r\n\t */\r\n\tconstructor(transformRules) {\r\n\t\t_each(transformRules, (rule, value) => {\r\n\t\t\tif (['rotate', 'scale', 'skew', 'translate'].includes(rule)) {\r\n\t\t\t\tthis[rule] = _isArray(value)\r\n\t\t\t\t\t? new TransformRule[rule](...value)\r\n\t\t\t\t\t: new TransformRule[rule](value);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * Stringifies the transformRules in a CSS-compatible format.\r\n\t *\r\n\t * @return string\r\n\t */\r\n\ttoString() {\r\n\t\treturn ['rotate', 'scale', 'skew', 'translate'].reduce(\r\n\t\t\t(str, rule) => str + (this[rule] && this[rule].length ? ' ' + this[rule] : ''), ''\r\n\t\t).trim();\r\n\t}\r\n\t\r\n\t/**\r\n\t * Unmatrix: parse the values of the matrix\r\n\t *\r\n\t * Algorithm from:\r\n\t *\r\n\t * https://github.com/matthewmueller/unmatrix/blob/master/index.js\r\n\t * @see http://hg.mozilla.org/mozilla-central/file/7cb3e9795d04/layout/style/nsStyleAnimation.cpp\r\n\t *\r\n\t * @param string \t str\r\n\t *\r\n\t * @return {Object}\r\n\t */\r\n\tstatic parse(CTXT, str) {\r\n\t\t// String to matrix\r\n\t\tvar stom = function(transformStr) {\r\n\t\t\tvar m = [];\r\n\t\t\tif (CTXT.window.WebKitCSSMatrix) {\r\n\t\t\t\tm = new CTXT.window.WebKitCSSMatrix(transformStr);\r\n\t\t\t\treturn [m.a, m.b, m.c, m.d, m.e, m.f];\r\n\t\t\t}\r\n\t\t\tvar rdigit = /[\\d\\.\\-]+/g;\r\n\t\t\tvar n;\r\n\t\t\twhile(n = rdigit.exec(transformStr)) {\r\n\t\t\t\tm.push(+n);\r\n\t\t\t}\r\n\t\t\treturn m;\r\n\t\t};\r\n\t\t// Round to the nearest hundredth\r\n\t\tvar round = function(n) {\r\n\t\t\treturn Math.round(n * 100) / 100;\r\n\t\t};\r\n\t\t// Radians to degrees\r\n\t\tvar r2d = function(radians) {\r\n\t\t\tvar deg = radians * 180 / Math.PI;\r\n\t\t\treturn round(deg);\r\n\t\t};\r\n\t\t// ---------------------------------\r\n\t\tvar m = stom(str);\r\n\t\tvar A = m[0];\r\n\t\tvar B = m[1];\r\n\t\tvar C = m[2];\r\n\t\tvar D = m[3];\r\n\t\tif (A * D == B * C) throw new Error('Dramatic.parseTransform: matrix is singular');\r\n\t\t// step (3)\r\n\t\tvar scaleX = Math.sqrt(A * A + B * B);\r\n\t\tA /= scaleX;\r\n\t\tB /= scaleX;\r\n\t\t// step (4)\r\n\t\tvar skew = A * C + B * D;\r\n\t\tC -= A * skew;\r\n\t\tD -= B * skew;\r\n\t\t// step (5)\r\n\t\tvar scaleY = Math.sqrt(C * C + D * D);\r\n\t\tC /= scaleY;\r\n\t\tD /= scaleY;\r\n\t\tskew /= scaleY;\r\n\t\t// step (6)\r\n\t\tif ( A * D < B * C ) {\r\n\t\t\tA = -A;\r\n\t\t\tB = -B;\r\n\t\t\tskew = -skew;\r\n\t\t\tscaleX = -scaleX;\r\n\t\t}\r\n\t\treturn new TransformRule({\r\n\t\t\ttranslate: [/*x*/m[4], /*y*/m[5],],\r\n\t\t\tscale: [/*x*/round(scaleX), /*y*/round(scaleY),],\r\n\t\t\trotate: r2d(Math.atan2(B, A)),\r\n\t\t\tskew: r2d(Math.atan(skew)),\r\n\t\t});\r\n\t};\r\n};\r\n\r\n/**\r\n * -------------\r\n * The \"rotate\" value class\r\n * -------------\r\n */\r\nTransformRule.rotate = class extends Array {\r\n\t\r\n\t/**\r\n\t * Returns \"rotate\" values as a CSS function\r\n\t *\r\n\t * @return string\r\n\t */\r\n\ttoString() {\r\n\t\tvar values = this.map(val => _isNumeric(val) ? val + 'deg' : val);\r\n\t\treturn 'rotate(' + values.join(', ') + ')';\r\n\t}\r\n};\r\n\r\n/**\r\n * -------------\r\n * The \"scale\" array class\r\n * -------------\r\n */\r\nTransformRule.scale = class extends Array {\r\n\t\r\n\t/**\r\n\t * Returns \"scale\" values as a CSS function\r\n\t *\r\n\t * @return string\r\n\t */\r\n\ttoString() {\r\n\t\treturn 'scale(' + this.join(', ') + ')';\r\n\t}\r\n};\r\n\r\n/**\r\n * -------------\r\n * The \"skew\" array class\r\n * -------------\r\n */\r\nTransformRule.skew = class extends Array {\r\n\t\r\n\t/**\r\n\t * Returns \"skew\" values as a CSS function\r\n\t *\r\n\t * @return string\r\n\t */\r\n\ttoString() {\r\n\t\tvar values = this.map(val => _isNumeric(val) ? val + 'deg' : val);\r\n\t\treturn 'skew(' + values.join(', ') + ')';\r\n\t}\r\n};\r\n\r\n/**\r\n * -------------\r\n * The \"translate\" array class\r\n * -------------\r\n */\r\nTransformRule.translate = class extends Array {\r\n\t\r\n\t/**\r\n\t * Returns \"translate\" values as a CSS function\r\n\t *\r\n\t * @return string\r\n\t */\r\n\ttoString() {\r\n\t\tvar values = this.map(val => _isNumeric(val) ? val + 'px' : val);\r\n\t\treturn 'translate(' + values.join(', ') + ')';\r\n\t}\r\n};\r\n\r\n/**\r\n * @exports\r\n */\r\nexport default TransformRule;","\r\n/**\r\n * @imports\r\n */\r\nimport ruleCallback from './ruleCallback.js';\r\nimport TransformRule from './classes/TransformRule.js';\r\nimport vendorize from './vendorize.js';\r\n\r\n/**\r\n * Returns computed CSS properties.\r\n *\r\n * @param HTMLElement\t\tel\r\n * @param string|array\t\tprops\r\n * @param string\t\t\tpsuedo\r\n *\r\n * @return object|string\r\n */\r\nexport default function(el, props, psuedo = null) {\r\n\tvar style = this.window.getComputedStyle(el, psuedo), rect;\r\n\treturn ruleCallback.call(this, props, (prop, rawProp) => {\r\n\t\tvar val = style.getPropertyValue(vendorize.call(this, prop) || prop);\r\n\t\tif ((prop === 'width' || prop === 'height') && val === '') {\r\n\t\t\tval = '0px';\r\n\t\t}\r\n\t\t// -----------------------------\r\n\t\t// We return an object for the \"transform\" property\r\n\t\t// -----------------------------\r\n\t\tif (prop === 'transform') {\r\n\t\t\tval = TransformRule.parse(this, val);\r\n\t\t}\r\n\t\treturn val;\r\n\t}, false/*withVendorVersion*/);\r\n};\r\n","\r\n/**\r\n * CSS properties that must have a default pixel unit.\r\n *\r\n * @var array\r\n */\r\nexport default ['width', 'height', 'top', 'left', 'right', 'bottom',\r\n\t'padding', 'padding-top', 'padding-left', 'padding-right', 'padding-bottom',\r\n\t'margin', 'margin-top', 'margin-left', 'margin-right', 'margin-bottom',\r\n\t'border-width', 'border-top-width', 'border-left-width', 'border-right-width', 'border-bottom-width',\r\n\t'outline-width', 'outline-top-width', 'outline-left-width', 'outline-right-width', 'outline-bottom-width',\r\n];\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _isString from '@webqit/util/js/isString.js';\r\nimport _isArray from '@webqit/util/js/isArray.js';\r\nimport _isObject from '@webqit/util/js/isObject.js';\r\nimport _isUndefined from '@webqit/util/js/isUndefined.js';\r\nimport _isNumeric from '@webqit/util/js/isNumeric.js';\r\nimport _objFrom from '@webqit/util/obj/from.js';\r\nimport _each from '@webqit/util/obj/each.js';\r\nimport TransformRule from './classes/TransformRule.js';\r\nimport ruleCallback from './ruleCallback.js';\r\nimport autopx from './autopx.js';\r\n\r\n/**\r\n * Sets new CSS properties.\r\n *\r\n * @param HTMLElement\t\tel\r\n * @param string|object\t\tnameOrProps\r\n * @param string|number\t\tval\r\n *\r\n * @return HTMLElement\r\n */\r\nexport default function(el, nameOrProps, val = null) {\r\n\tnameOrProps = _isString(nameOrProps)\r\n\t\t? _objFrom(nameOrProps, val)\r\n\t\t: nameOrProps;\r\n\tvar destructables = {\r\n\t\tinset: ['top', 'right', 'bottom', 'left'],\r\n\t\tmargin: ['top', 'right', 'bottom', 'left'],\r\n\t\tpadding: ['top', 'right', 'bottom', 'left'],\r\n\t};\r\n\truleCallback.call(this, Object.keys(nameOrProps), (prop, rawProp) => {\r\n\t\tvar val = nameOrProps[rawProp];\r\n\t\t// -----------------------------\r\n\t\t// We can destucture things like \"inset\"(\"left\", \"top\", \"right\", \"bottom\"), etc\r\n\t\t// -----------------------------\r\n\t\t_each(destructables, (destructableProp, meaning) => {\r\n\t\t\tif (prop === destructableProp) {\r\n\t\t\t\tif (_isObject(val)) {\r\n\t\t\t\t\tval = meaning.map(key => val[key]).filter(val => !_isUndefined(val));\r\n\t\t\t\t}\r\n\t\t\t\tif (_isArray(val)) {\r\n\t\t\t\t\tval = val.join(' ');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t// -----------------------------\r\n\t\t// We accept an object for the \"transform\" property\r\n\t\t// -----------------------------\r\n\t\tif (prop === 'transform' && _isObject(val) && !(val instanceof TransformRule)) {\r\n\t\t\tval = (new TransformRule(val)).toString();\r\n\t\t}\r\n\t\tel.style[prop] = autopx.includes(prop) && _isNumeric(val)\r\n\t\t\t? val + 'px'\r\n\t\t\t: val;\r\n\t}, 'auto'/*withVendorVersion*/);\r\n\treturn el;\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _isArray from '../js/isArray.js';\r\nimport _isString from '../js/isString.js';\r\n\r\n/**\r\n * Return an object for the given pair(s) of input.\r\n *\r\n * @param string|array \t\t\tkey\r\n * @param mixed|array\t\t\tval \r\n *\r\n * @return object\r\n */\r\nexport default function(key, val = null) {\r\n\tvar obj = {};\r\n\tif (arguments.length === 2) {\r\n\t\tif (_isArray(key) && _isArray(val)) {\r\n\t\t\tkey.forEach((k, i) => obj[k] = val[i]);\r\n\t\t} else {\r\n\t\t\tobj[key] = val;\r\n\t\t}\r\n\t}\r\n\treturn obj;\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport ruleCallback from './ruleCallback.js';\r\n\r\n/**\r\n * Returns inline-only CSS properties.\r\n *\r\n * @param HTMLElement\t\tel\r\n * @param string|object\t\tprop\r\n * @param bool|string\t\twithVendorVersions\r\n *\r\n * @return mixed\r\n */\r\nexport default function(el, props, withVendorVersion = 'auto') {\r\n\tvar style = el.getAttribute('style');\r\n\tif (props === 'all') {\r\n\t\tprops = style.split(';').map(str => str.split(':')[0]);\r\n\t}\r\n\treturn ruleCallback.call(this, props, prop => {\r\n\t\tvar regex = new RegExp(';[ ]*?' + prop + ':([^;]+);?', 'g');\r\n\t\treturn (regex.exec(';' + style) || ['', ''])[1].trim();\r\n\t}, withVendorVersion);\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _isFunction from '@webqit/util/js/isFunction.js';\r\nimport readSync from './readSync.js';\r\n\r\n/**\r\n * The async type of readSync().\r\n *\r\n * @see readSync()\r\n *\r\n * @return Promise\r\n */\r\nexport default function(el, props, psuedo = null) {\r\n\treturn this.Reflow.onread((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tresolve(_isFunction(props) ? props(el) : readSync.call(this, el, props, psuedo));\r\n\t\t} catch(e) {\r\n\t\t\treject(e);\r\n\t\t}\r\n\t}, true/*withPromise*/);\r\n};","\r\n/**\r\n * @imports\r\n */\r\nimport _isFunction from '@webqit/util/js/isFunction.js';\r\nimport writeSync from './writeSync.js';\r\n\r\n/**\r\n * The async type of writeSync().\r\n *\r\n * @see cssWrite()\r\n *\r\n * @return Promise\r\n */\r\nexport default function(el, nameOrProps, val = null) {\r\n\treturn this.Reflow.onwrite((resolve, reject) => {\r\n\t\ttry {\r\n\t\t\tresolve(_isFunction(nameOrProps) ? nameOrProps(el) : writeSync.call(this, el, nameOrProps, val));\r\n\t\t} catch(e) {\r\n\t\t\treject(e);\r\n\t\t}\r\n\t}, true/*withPromise*/);\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _isObject from '@webqit/util/js/isObject.js';\r\nimport cssReadInline from './readInline.js';\r\nimport cssReadAsync from './readAsync.js';\r\nimport cssWriteAsync from './writeAsync.js';\r\n\r\n/**\r\n * Applies some CSS within a transaction, gets computed values for use before rolling back.\r\n * If a callback is provided, it synces the entire operation with Reflow's normal read/write cycles.\r\n *\r\n * @param HTMLElement\t\tel \r\n * @param string|object\t\tnameOrProps\r\n * @param string|number\t\tval\r\n * @param function\t\t\treadCallback\r\n *\r\n * @return Promise\r\n */\r\nexport default function(el, nameOrProps, val = null, readCallback = null) {\r\n\tvar propsToRead = _isObject(nameOrProps) ? Object.keys(nameOrProps) : nameOrProps;\r\n\treadCallback = _isObject(nameOrProps) ? val : readCallback;\r\n\t// -------------\r\n\tvar inlineSavepoint = cssReadInline.call(this, el, propsToRead);\r\n\treturn cssWriteAsync.call(this, el, nameOrProps, val).then(() => {\r\n\t\treturn cssReadAsync.call(this, el, readCallback || propsToRead).then(rendering => {\r\n\t\t\t// We return the rendering in a promise\r\n\t\t\treturn cssWriteAsync.call(this, el, inlineSavepoint).then(() => {\r\n\t\t\t\treturn rendering;\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _pushUnique from '../arr/pushUnique.js';\r\nimport _getPrototypeChain from './getPrototypeChain.js';\r\n\r\n/**\r\n * Eagerly retrieves object members all down the prototype chain.\r\n *\r\n * @param object\t \tobj\r\n * @param object\t \tuntil\r\n *\r\n * @return array\r\n */\r\nexport default function(obj, until) {\r\n\tvar keysAll = [];\r\n\t_getPrototypeChain(obj, until).forEach(obj => {\r\n\t\t_pushUnique(keysAll, ...Object.getOwnPropertyNames(obj));\r\n\t});\r\n\treturn keysAll;\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _isArray from '../js/isArray.js';\r\n\r\n/**\r\n * Returns the prototype chain.\r\n *\r\n * @param object \t\tobj\r\n * @param object\t \tuntil\r\n *\r\n * @return bool\r\n */\r\nexport default function(obj, until) {\r\n\tuntil = until || Object.prototype;\r\n\tuntil = until && !_isArray(until) ? [until] : until;\r\n\t// We get the chain of inheritance\r\n\tvar prototypalChain = [];\r\n\tvar obj = obj;\r\n\twhile((obj && (!until || until.indexOf(obj) < 0) && obj.name !== 'default')) {\r\n\t\tprototypalChain.push(obj);\r\n\t\tobj = obj ? Object.getPrototypeOf(obj) : null;\r\n\t}\r\n\treturn prototypalChain;\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _isArray from '../js/isArray.js';\r\nimport _isFunction from '../js/isFunction.js';\r\nimport _mergeCallback from './mergeCallback.js';\r\n\r\n/**\r\n * Copies only properties of an object.\r\n *\r\n * @param object\t \tobj\r\n * @param array\t\t \tonly\r\n * @param array\t\t \texcept\r\n *\r\n * @return object\r\n */\r\nexport default function(obj, filter = []) {\r\n\treturn _mergeCallback([{}, obj], (key, obj1, obj2) => {\r\n\t\tif (!_isFunction(obj2[key])) {\r\n\t\t\treturn _isFunction(filter) ? filter(key) \r\n\t\t\t\t: (_isArray(filter) && filter.length ? filter.indexOf(key) > -1 : true);\r\n\t\t}\r\n\t}, false/*deepProps*/, false/*isReplace*/, false/*withSymbols*/);\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _isArray from '../js/isArray.js';\r\nimport _isFunction from '../js/isFunction.js';\r\nimport _isObject from '../js/isObject.js';\r\nimport _isTypeObject from '../js/isTypeObject.js';\r\nimport _isNumeric from '../js/isNumeric.js';\r\nimport _getAllPropertyNames from './getAllPropertyNames.js';\r\n\r\n/**\r\n  * Merges values from subsequent arrays/objects first array/object;\r\n  * optionally recursive\r\n  *\r\n  * @param array ...objs\r\n  *\r\n  * @return void\r\n  */\r\nexport default function mergeCallback(objs, callback, deepProps = false, isReplace = false, withSymbols = false) {\r\n\tvar depth = 0;\r\n\tvar obj1 = objs.shift();\r\n\tif (_isNumeric(obj1) || obj1 === true || obj1 === false) {\r\n\t\tdepth = obj1;\r\n\t\tobj1 = objs.shift();\r\n\t}\r\n\tif (!objs.length) {\r\n\t\tthrow new Error('_merge() requires two or more array/objects.');\r\n\t}\r\n\tobjs.forEach((obj2, i) => {\r\n\t\tif (!_isTypeObject(obj2) && !_isFunction(obj2)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t(deepProps ? _getAllPropertyNames(obj2) : Object.getOwnPropertyNames(obj2)).forEach(key => {\r\n\t\t\tif (!callback(key, obj1, obj2, i)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar valAtObj1 = obj1[key];\r\n\t\t\tvar valAtObj2 = obj2[key];\r\n\t\t\tif (((_isArray(valAtObj1) && _isArray(valAtObj2)) || (_isObject(valAtObj1) && _isObject(valAtObj2))) \r\n\t\t\t&& (depth === true || depth > 0)) {\r\n\t\t\t\t// RECURSE...\r\n\t\t\t\tobj1[key] = _isArray(valAtObj1) && _isArray(valAtObj2) ? [] : {};\r\n\t\t\t\tmergeCallback([_isNumeric(depth) ? depth - 1 : depth, obj1[key], valAtObj1, valAtObj2], callback, deepProps, isReplace, withSymbols);\r\n\t\t\t} else {\r\n\t\t\t\tif (_isArray(obj1) && _isArray(obj2)) {\r\n\t\t\t\t\tif (isReplace) {\r\n\t\t\t\t\t\tobj1[key] = valAtObj2;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tobj1.push(valAtObj2);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// In case we're setting a read-only property\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (withSymbols) {\r\n\t\t\t\t\t\t\tObject.defineProperty(obj1, key, Object.getOwnPropertyDescriptor(obj2, key));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tobj1[key] = obj2[key];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch(e) {}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\treturn obj1;\r\n};\r\n","\r\n/**\r\n * Loops thru all rules in all stylesheets (in reverse order possible).\r\n *\r\n * @param function\t\t\tcallback\r\n * @param bool\t\t\t\treversed\r\n *\r\n * @return NULL|bool\r\n */\r\nexport default function(callback, reversed = false) {\r\n\tvar stylesheets = document.styleSheets;\r\n\tvar stylesheetCallback = function(stylesheet) {\r\n\t\ttry {\r\n\t\t\tfor (var k = 0; k < stylesheet.cssRules.length; k ++) {\r\n\t\t\t\tvar ruleDefinition = stylesheet.cssRules[k];\r\n\t\t\t\tif (callback(ruleDefinition) === true) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (e) {}\r\n\t}\r\n\tif (reversed) {\r\n\t\tfor (var i = stylesheets.length - 1; i >= 0; i --) {\r\n\t\t\tif (stylesheetCallback(stylesheets[i]) === true) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tfor (var i = 0; i < stylesheets.length; i ++) {\r\n\t\t\tif (stylesheetCallback(stylesheets[i]) === true) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n","\r\n/**\r\n * Helper method: parses a CSS string into an associative array.\r\n *\r\n * @param string\t \tcss\r\n *\r\n * @return object\r\n */\r\nexport default function(css) {\r\n\tvar _split = {};\r\n\tcss.split(';').filter(r => r).forEach(rule => {\r\n\t\trule = rule.split(':');\r\n\t\t_split[rule[0].trim()] = rule[1].trim();\r\n\t});\r\n\treturn _split;\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _copyPlain from '@webqit/util/obj/copyPlain.js';\r\nimport _isArray from '@webqit/util/js/isArray.js';\r\nimport stylesheetRuleCallback from './stylesheetRuleCallback.js';\r\nimport parseRules from './parseRules.js';\r\n\r\n/**\r\n * FInds the keyframes of the given animation name(s) across all stylesheets.\r\n *\r\n * @param string|array\t\tname\r\n * @param bool\t\t\t\tnoCache\r\n * @param bool\t\t\t\tnormalize\r\n *\r\n * @return NULL|bool\r\n */\r\nexport default function(name, noCache, normalize = true) {\r\n\t// Ask cache first...\r\n\tvar cacheKey = _isArray(name) ? name.join('|') : name;\r\n\tif (!noCache && stylesheetKeyframesCache[cacheKey]) {\r\n\t\treturn stylesheetKeyframesCache[cacheKey];\r\n\t}\r\n\t// Parse keyframes rule\r\n\tvar parseKeyframes = function(ruleDefinition) {\r\n\t\tvar keyframes = [];\r\n\t\tfor (var i = 0; i < ruleDefinition.cssRules.length; i ++) {\r\n\t\t\tvar keyframeRule = ruleDefinition.cssRules[i];\r\n\t\t\tvar keyframe = parseRules(keyframeRule.cssText.replace(keyframeRule.keyText, '').replace('{', '').replace('}', '').trim());\r\n\t\t\tvar offsets = (keyframeRule.keyText || ' ').split(',').map(key => key === 'from' ? 0 : (key === 'to' ? 1 : (parseInt(key) / 100)));\r\n\t\t\tif (normalize) {\r\n\t\t\t\tnormalizeToWAAPI(keyframe, ['animation-', 'transition-']);\r\n\t\t\t\twhile(offsets.length) {\r\n\t\t\t\t\tvar _keyframe = _copyPlain(keyframe);\r\n\t\t\t\t\t_keyframe.offset = offsets.shift();\r\n\t\t\t\t\tkeyframes.push(_keyframe);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tkeyframe.offset = offsets.length > 1 ? offsets : offsets[0];\r\n\t\t\t\tkeyframes.push(keyframe);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn keyframes.sort((a, b) => a.offset === b.offset ? 0 : a.offset > b.offset ? 1 : -1);\r\n\t};\r\n\t// Find keyframes\r\n\tvar allKeyframes = [];\r\n\tstylesheetRuleCallback.call(this, ruleDefinition => {\r\n\t\tif ((ruleDefinition.type === this.window.CSSRule.KEYFRAMES_RULE || ruleDefinition.type === this.window.CSSRule[this.prefix.api.toUpperCase() + '_KEYFRAMES_RULE'])\r\n\t\t&& (_isArray(name) ? name : [name]).indexOf(ruleDefinition.name) > -1) {\r\n\t\t\tallKeyframes = allKeyframes.concat(allKeyframes, parseKeyframes(ruleDefinition));\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}, true/*reversed*/);\r\n\t// Save\r\n\tstylesheetKeyframesCache[cacheKey] = allKeyframes;\r\n\treturn allKeyframes;\r\n};\r\n\r\n/**\r\n * Normalizes CSS animation properties to WAAPI compatible properties\r\n *\r\n * @param object\t\t\tanimationProps\r\n * @param string|arrau\t\tprefix\r\n * @param string|arrau\t\toffset\r\n *\r\n * @return null\r\n */\r\nconst normalizeToWAAPI = function(animationProps, offset, prefix = '') {\r\n\tif (_isArray(prefix)) {\r\n\t\tprefix.forEach(pref => normalizeToWAAPI(animationProps, pref));\r\n\t\treturn;\r\n\t}\r\n\tif (animationProps[prefix + 'timing-function']) {\r\n\t\tanimationProps.easing = animationProps[prefix + 'timing-function'];\r\n\t\tdelete animationProps[prefix + 'timing-function'];\r\n\t}\r\n\tif (animationProps[prefix + 'fill-mode']) {\r\n\t\tanimationProps.fill = animationProps[prefix + 'fill-mode'];\r\n\t\tdelete animationProps[prefix + 'fill-mode'];\r\n\t}\r\n\tif (animationProps[prefix + 'iteration-count']) {\r\n\t\tanimationProps.iterations = animationProps[prefix + 'iteration-count'];\r\n\t\tdelete animationProps[prefix + 'iteration-count'];\r\n\t\tif (animationProps.iterations === 'infinite') {\r\n\t\t\tanimationProps.iterations = Infinity;\r\n\t\t}\r\n\t}\r\n};\r\n\t\r\n/**\r\n * @var object\r\n */\r\nconst stylesheetKeyframesCache = {};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _fromCamel from '@webqit/util/str/fromCamel.js';\r\n\r\n/**\r\n * Returns preset easing functions from CSS variables.\r\n *\r\n * @param string \tname\r\n *\r\n * @return string|NULL\r\n */\r\nexport default function(name) {\r\n\tvar name = !name.indexOf('-') ? _fromCamel(name, '-') : name;\r\n\treturn this.window.getComputedStyle(this.window.document.body).getPropertyValue('--' + name);\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport _each from '@webqit/util/obj/each.js';\r\nimport _exclude from '@webqit/util/arr/exclude.js';\r\nimport _pushUnique from '@webqit/util/arr/pushUnique.js';\r\nimport _isString from '@webqit/util/js/isString.js';\r\nimport _isArray from '@webqit/util/js/isArray.js';\r\nimport _isObject from '@webqit/util/js/isObject.js';\r\nimport _isNumber from '@webqit/util/js/isNumber.js';\r\nimport _isNumeric from '@webqit/util/js/isNumeric.js';\r\nimport _isFunction from '@webqit/util/js/isFunction.js';\r\nimport _isEmpty from '@webqit/util/js/isEmpty.js';\r\nimport _isUndefined from '@webqit/util/js/isUndefined.js';\r\n// ------------------------------------\r\nimport readSync from '@webqit/plot-js/src/css/readSync.js';\r\nimport writeSync from '@webqit/plot-js/src/css/writeSync.js';\r\nimport readRendering from '@webqit/plot-js/src/css/readRendering.js';\r\nimport readSyncKeyframes from '@webqit/plot-js/src/css/readKeyframes.js';\r\nimport cssVarRead from '@webqit/plot-js/src/css/varRead.js';\r\nimport cssAutopx from '@webqit/plot-js/src/css/autopx.js';\r\nimport TransformRule from '@webqit/plot-js/src/css/classes/TransformRule.js';\r\n\r\n/**\r\n * ---------------------------\r\n * The Element utility class\r\n * ---------------------------\r\n */\r\n\t\t\t\r\nexport default class Ani {\r\n\t\r\n\t/**\r\n\t * Creates an amiation from\r\n\t * any of keyframes, CSS keyframe name, or CSS object.\r\n\t *\r\n\t * @param Element\t\t\t\tel\r\n\t * @param array|object|string\teffect\r\n\t * @param object\t\t\t\tparams\r\n\t *\r\n\t * @return this\r\n\t */\r\n\tconstructor(el, effect, params = {}) {\r\n\t\t// Private properties\r\n\t\tthis.el = el;\r\n\t\tthis.$ = {\r\n\t\t\treadyCallbacks: [],\r\n\t\t\tfinishCallbacks: [],\r\n\t\t\tcancelCallbacks: [],\r\n\t\t\tparams: params,\r\n\t\t};\r\n\t\t// -----------------------------\r\n\t\t// Normalize params...\r\n\t\t// -----------------------------\r\n\t\tparams.fill = params.fill || 'both';\r\n\t\tif (!('duration' in params)) {\r\n\t\t\tparams.duration = 400;\r\n\t\t}\r\n\t\t// Convert certain easing strings to beizier curves\r\n\t\tif (params.easing && ['ease-in', 'ease-out', 'ease-in-out'].indexOf(params.easing) === -1 && params.easing.indexOf('(') === -1) {\r\n\t\t\t// Native easings, custom cubic-beziers, or Dramatic's cubic-beziers\r\n\t\t\tparams.easing = cssVarRead.call(WQ.DOM, params.easing) || params.easing;\r\n\t\t}\r\n\t\t// -----------------------------\r\n\t\t// Normalize keyframes...\r\n\t\t// -----------------------------\r\n\t\tvar destructables = {\r\n\t\t\tinset: ['top', 'right', 'bottom', 'left'],\r\n\t\t\tmargin: ['top', 'right', 'bottom', 'left'],\r\n\t\t\tpadding: ['top', 'right', 'bottom', 'left'],\r\n\t\t};\r\n\t\tconst init = keyframes => {\r\n\t\t\tkeyframes = keyframes.slice();\r\n\t\t\t// Mine out end-state properties\r\n\t\t\tvar firstFrame = {};\r\n\t\t\tvar lastFrame = {};\r\n\t\t\t_each(keyframes, (i, keyframe) => {\r\n\t\t\t\t// -----------------------------\r\n\t\t\t\t// We can destucture things like \"inset\"(\"left\", \"top\", \"right\", \"bottom\"), etc\r\n\t\t\t\t// -----------------------------\r\n\t\t\t\t_each(destructables, (destructableProp, meaning) => {\r\n\t\t\t\t\tif (keyframe[destructableProp]) {\r\n\t\t\t\t\t\tif (_isObject(keyframe[destructableProp])) {\r\n\t\t\t\t\t\t\tkeyframe[destructableProp] = meaning.map(key => keyframe[destructableProp][key]).filter(val => !_isUndefined(val));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (_isArray(keyframe[destructableProp])) {\r\n\t\t\t\t\t\t\tkeyframe[destructableProp] = keyframe[destructableProp].join(' ');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// -----------------------------\r\n\t\t\t\t// We accept an object for the \"transform\" property\r\n\t\t\t\t// -----------------------------\r\n\t\t\t\tif (keyframe.transform && _isObject(keyframe.transform) && !(keyframe.transform instanceof TransformRule)) {\r\n\t\t\t\t\tkeyframe.transform = (new TransformRule(keyframe.transform)).toString();\r\n\t\t\t\t}\r\n\t\t\t\t// Marshal out its properties\r\n\t\t\t\t_exclude(Object.keys(keyframe), 'offset', 'easing').forEach(prop => {\r\n\t\t\t\t\t// Auto-px\r\n\t\t\t\t\tif (cssAutopx.includes(prop) && _isNumeric(keyframe[prop])) {\r\n\t\t\t\t\t\tkeyframe[prop] += 'px';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Save last seen value of this property\r\n\t\t\t\t\t// across all keyframes...\r\n\t\t\t\t\tfirstFrame[prop] = typeof firstFrame[prop] === 'undefined' ? keyframe[prop] : firstFrame[prop];\r\n\t\t\t\t\tlastFrame[prop] = keyframe[prop];\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t// -----------------------------\r\n\t\t\t// The animation...\r\n\t\t\t// -----------------------------\r\n\t\t\ttry {\r\n\t\t\t\tvar anim = this.el.animate(keyframes, params);\r\n\t\t\t} catch(e) {\r\n\t\t\t\tthis.$.error = e;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// Reverse\r\n\t\t\tif (params.reverse) {\r\n\t\t\t\tanim.reverse();\r\n\t\t\t}\r\n\t\t\t// A little polifyll\r\n\t\t\tif (!anim.effect) {\r\n\t\t\t\tanim.effect = {};\r\n\t\t\t}\r\n\t\t\tif (!anim.effect.duration) {\r\n\t\t\t\tanim.effect.duration = params.duration;\r\n\t\t\t}\r\n\t\t\t// -----------------------------\r\n\t\t\t// \"onfinish\" and \"oncancel\" listener\r\n\t\t\t// -----------------------------\r\n\t\t\tanim.onfinish = () => {\r\n\t\t\t\t// As getter, as it were\r\n\t\t\t\tif (params.cancelForCss) {\r\n\t\t\t\t\tanim.cancel();\r\n\t\t\t\t\tif (params.fill === 'forwards' || params.fill === 'both') {\r\n\t\t\t\t\t\twriteSync.call(WQ.DOM, this.el, lastFrame);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.$.finishCallbacks.forEach(callback => {\r\n\t\t\t\t\tcallback(this.el);\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\t// oncancel listener\r\n\t\t\tanim.oncancel = () => {\r\n\t\t\t\t// As getter, as it were\r\n\t\t\t\tthis.$.cancelCallbacks.forEach(callback => {\r\n\t\t\t\t\tcallback(this.el);\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\t// -------------------\r\n\t\t\tthis.$.anim = anim;\r\n\t\t\tthis.$.firstFrame = firstFrame;\r\n\t\t\tthis.$.lastFrame = lastFrame;\r\n\t\t\tthis.$.params = params;\r\n\t\t\tif (this.$.readyCallbacks.length) {\r\n\t\t\t\tthis.$.readyCallbacks.forEach(callback => callback(anim, params, firstFrame, lastFrame));\r\n\t\t\t}\r\n\t\t\t// -------------------\r\n\t\t};\r\n\t\tif (_isFunction(effect)) {\r\n\t\t\teffect(el, init);\r\n\t\t} else {\r\n\t\t\tAni.createCallback(el, effect, init, error => {\r\n\t\t\t\t// -------------------\r\n\t\t\t\tthis.$.error = error;\r\n\t\t\t\t// -------------------\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\t\r\n\t/**\r\n\t * Returns the animation.\r\n\t *\r\n\t * @return Animation\r\n\t */\r\n\tget anim() {\r\n\t\treturn this.$.anim;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Animation-ready callback.\r\n\t *\r\n\t * @param function\t\tsucces\r\n\t * @param function\t\terror\r\n\t *\r\n\t * @return void\r\n\t */\r\n\tready(succes, error) {\r\n\t\tif (this.$.error) {\r\n\t\t\tif (error) {\r\n\t\t\t\terror(this.$.error);\r\n\t\t\t}\r\n\t\t} else if (this.$.anim) {\r\n\t\t\tsucces(this.$.anim, this.$.params, this.$.firstFrame, this.$.lastFrame);\r\n\t\t} else {\r\n\t\t\tthis.$.readyCallbacks.push(succes);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Binds a function to the \"onfinish\" event.\r\n\t *\r\n\t * @param function callback\r\n\t *\r\n\t * @return this\r\n\t *\r\n\t */\r\n\tonfinish(callback) {\r\n\t\tif (!_isFunction(callback)) {\r\n\t\t\tthrow new Error(\"Onfinish() accepts only a function.\");\r\n\t\t}\r\n\t\tthis.$.finishCallbacks.push(callback);\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Binds a function to the \"oncancel\" event.\r\n\t *\r\n\t * @param function callback\r\n\t *\r\n\t * @return this\r\n\t *\r\n\t */\r\n\toncancel(callback) {\r\n\t\tif (!_isFunction(callback)) {\r\n\t\t\tthrow new Error(\"Oncancel() accepts only a function.\");\r\n\t\t}\r\n\t\tthis.$.cancelCallbacks.push(callback);\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Returns the animation's progress.\r\n\t *\r\n\t * @return number\r\n\t */\r\n\tprogress() {\r\n\t\tif (this.$.anim) {\r\n\t\t\treturn this.$.anim.currentTime / this.$.anim.effect.duration;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Seeks the animation to a time.\r\n\t *\r\n\t * @param number to\r\n\t *\r\n\t * @return this\r\n\t */\r\n\tseek(to) {\r\n\t\tif (!_isNumber(to)) {\r\n\t\t\tthrow new Error(\"Seek() accepts only a numeric value.\");\r\n\t\t}\r\n\t\tthis.ready((anim, params) => {\r\n\t\t\tvar totalDuration = params.duration + (params.delay || 0) + (params.endDelay || 0);\r\n\t\t\tanim.currentTime = Math.max(0, Math.min(to * totalDuration, totalDuration));\r\n\t\t});\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Reverses the animation.\r\n\t *\r\n\t * @return this\r\n\t */\r\n\treverse() {\r\n\t\tthis.ready(anim => anim.reverse());\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Plays the animation.\r\n\t * Returns an \"onfinish\" promise.\r\n\t *\r\n\t * @return Promise\r\n\t */\r\n\tplay() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.ready(anim => {\r\n\t\t\t\tanim.play();\r\n\t\t\t\tthis.onfinish(() => resolve(this));\r\n\t\t\t\tthis.oncancel(() => reject(this));\r\n\t\t\t}, reject);\r\n\t\t});\r\n\t}\r\n\t\r\n\t/**\r\n\t * Pauses the animation.\r\n\t *\r\n\t * @return this\r\n\t */\r\n\tpause() {\r\n\t\tthis.ready(anim => anim.pause());\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Finishes the animation.\r\n\t *\r\n\t * @return this\r\n\t */\r\n\tfinish() {\r\n\t\tthis.ready(anim => anim.finish());\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Cancels the animation.\r\n\t *\r\n\t * @return this\r\n\t */\r\n\tcancel() {\r\n\t\tthis.ready(anim => anim.cancel());\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Resolves the given effect into valid keyframes.\r\n\t *\r\n\t * Effect can be CSS animation name,\r\n\t * or an object of CSS properties that represent the end keyframe.\r\n\t *\r\n\t * @param Element\t\t\t\tel\r\n\t * @param array|object|string\teffect\r\n\t * @param function\t\t\t\tready\r\n\t * @param function\t\t\t\terror\r\n\t *\r\n\t * @return void\r\n\t */\r\n\tstatic createCallback(el, effect, ready, error) {\r\n\t\t// -----------------------------\r\n\t\t// Resolve firstFrame from current state?\r\n\t\t// -----------------------------\r\n\t\tvar isObjectAndOnlyLastKeyframe = _isObject(effect) && !Object.values(effect).filter(v => _isArray(v)).length;\r\n\t\tvar isArrayButEmptyFirstKeyframe = _isArray(effect) && effect.length > 1 && _isEmpty(effect[0]);\r\n\t\tif (isObjectAndOnlyLastKeyframe || isArrayButEmptyFirstKeyframe) {\r\n\t\t\t// Get first keyframe from current state\r\n\t\t\tWQ.DOM.Reflow.onread(() => {\r\n\t\t\t\tif (isArrayButEmptyFirstKeyframe) {\r\n\t\t\t\t\teffect.shift();\r\n\t\t\t\t\tAni.createCallback(el, [readSync.call(WQ.DOM, el, Object.keys(effect[0])), ...effect], ready, error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tAni.createCallback(el, [readSync.call(WQ.DOM, el, Object.keys(effect)), effect], ready, error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// -----------------------------\r\n\t\t// Create keyframes from CSS animation name...\r\n\t\t// -----------------------------\r\n\t\tif (_isString(effect)) {\r\n\t\t\t// Retrieve keyframes of the given animation name from css\r\n\t\t\tvar animationName = effect;\r\n\t\t\teffect = readSyncKeyframes.call(WQ.DOM, animationName);\r\n\t\t\tif (!effect.length && error) {\r\n\t\t\t\terror('Animation name \"' + animationName + '\" not found in any stylesheet!');\r\n\t\t\t}\r\n\t\t}\r\n\t\t// -----------------------------\r\n\t\t// Resolve auto pixels...\r\n\t\t// -----------------------------\r\n\t\tif (_isArray(effect)) {\r\n\t\t\tvar keyframesWithAutoSizes = [];\r\n\t\t\t_each(effect, (i, keyframe) => {\r\n\t\t\t\t// We can animate to auto width and height\r\n\t\t\t\tif (keyframe.height === 'auto') {\r\n\t\t\t\t\t_pushUnique(keyframesWithAutoSizes, i);\r\n\t\t\t\t}\r\n\t\t\t\tif (keyframe.width === 'auto') {\r\n\t\t\t\t\t_pushUnique(keyframesWithAutoSizes, i);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (keyframesWithAutoSizes.length) {\r\n\t\t\t\t// apply() will be called when ready\r\n\t\t\t\t// We return readRendering(), which in itself returns the return of apply()\r\n\t\t\t\treadRendering.call(WQ.DOM, el, {width:'auto', height:'auto'}, el => el.getBoundingClientRect()).then(result => {\r\n\t\t\t\t\tkeyframesWithAutoSizes.forEach(i => {\r\n\t\t\t\t\t\tif (effect[i].width === 'auto') {\r\n\t\t\t\t\t\t\teffect[i].width = result.width + 'px';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (effect[i].height === 'auto') {\r\n\t\t\t\t\t\t\teffect[i].height = result.height + 'px';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tready(effect);\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// -----------------------------\r\n\t\t// Return result...\r\n\t\t// -----------------------------\r\n\t\t// We return the return of success()\r\n\t\tready(effect);\r\n\t}\r\n};","\r\n/**\r\n * @imports\r\n */\r\nimport _remove from './remove.js';\r\n\r\n/**\r\n * Removes all instances of each item.\r\n *\r\n * @param array \tarr\r\n * @param array\t \titms\r\n *\r\n * @return array\r\n */\r\nexport default function(arr, ...itms) {\r\n\titms.forEach(itm => _remove(arr, itm));\r\n\treturn arr;\r\n};\r\n","\r\n/**\r\n * Removes instances of reference up to <limit> times.\r\n *\r\n * @param array \tarr\r\n * @param mixed\t \titm\r\n * @param int|bool \tlimit\r\n *\r\n * @return array\r\n */\r\nexport default function(arr, itm, limit = false) {\r\n\tvar i = arr.indexOf(itm);\r\n\twhile (i > -1 && (limit || limit === false)) {\r\n\t\tarr.splice(i, 1);\r\n\t\tif (limit > 0) {\r\n\t\t\tlimit --;\r\n\t\t};\r\n\t\ti = arr.indexOf(itm);\r\n\t};\r\n\treturn arr;\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport Ani from './Ani.js';\r\n\r\n/**\r\n * Creates and plays an amiation.\r\n * @see Ani\r\n *\r\n * @param array|object|string\teffect\r\n * @param object\t\t\t\tparams\r\n *\r\n * @return Promise\r\n */\r\nexport default function play(el, effect, params = {}) {\r\n\tif (!('cancelForCss' in params)) {\r\n\t\tparams.cancelForCss = true;\r\n\t}\r\n\treturn (new Ani(el, effect, params)).play().then(() => el);\r\n};","\r\n/**\r\n * @imports\r\n */\r\nimport dfn from './dfn.js';\r\n\r\n/**\r\n * @definitions\r\n */\r\nexport default function(window) {\r\n\r\n\tconst { ul, li } = dfn(window);\r\n\t\r\n\t/**\r\n\t * The [ul] elements\r\n\t */\r\n\twindow.customElements.define('wn-collapsible-ul', ul, {extends: 'ul'});\r\n    \r\n    \t\r\n\t/**\r\n\t * The [li] elements\r\n\t */\r\n\twindow.customElements.define('wn-collapsible-li', li, {extends: 'li'});\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport play from '@webqit/play-js/src/animation/play.js';\r\n\r\n/**\r\n * ---------------------------\r\n * Class definitions\r\n * ---------------------------\r\n */\r\nexport default function(window) {\r\n\r\n    /**\r\n     * @list\r\n    */\r\n    const ul = class extends window.HTMLUListElement {\r\n        \t\t\r\n\t\t// Expand\r\n\t\tasync expand() {\r\n            this.bindings.state = 'expanding';\r\n            var orientation = this.bindings.orientation;\r\n            if (orientation === 'horizontal') {\r\n                await play(this, {width: '100%', opacity: 1}, this.bindings.timing || {});\r\n            } else /*if (orientation === 'vertical')*/ {\r\n                await play(this, {height: 'auto', opacity: 1}, this.bindings.timing || {duration:400});\r\n            }\r\n            this.bindings.state = 'expanded';\r\n        }\r\n\t\t\r\n\t\t// Collapse\r\n\t\tasync collapse() {\r\n            this.bindings.state = 'collapsing';\r\n            var orientation = this.bindings.orientation;\r\n            if (orientation === 'horizontal') {\r\n                await play(this, {width: 0, opacity: 0}, this.bindings.timing || {});\r\n            } else /*if (orientation === 'vertical')*/ {\r\n                await play(this, {height: 0, opacity: 0}, this.bindings.timing || {duration:400});\r\n            }\r\n            this.bindings.state = 'collapsed';\r\n        }\r\n\t\t\r\n\t\t// Toggle\r\n\t\ttoggle() {\r\n            if (this.bindings.state !== 'expanded') {\r\n\t\t\t\treturn this.expand();\r\n            }\r\n            if (this.bindings.state !== 'collapsed') {\r\n\t\t\t\treturn this.collapse();\r\n            }\r\n\t\t}\r\n\r\n    };\r\n\r\n    /**\r\n     * @list-item\r\n    */\r\n    const li = class extends window.HTMLLIElement {\r\n\t\t\r\n\t\t/**\r\n\t\t * This triggers self-inclusion\r\n\t\t *\r\n\t\t * @return void\r\n\t\t */\r\n\t\tconnectedCallback() {\r\n\t\t\tif (this.parentNode.collapsibleAdd) {\r\n\t\t\t\tthis.parentNode.collapsibleAdd(this);\r\n            }\r\n\t\t}\r\n\r\n    };\r\n    \r\n    return {\r\n        ul,\r\n        li,\r\n    }\r\n};\r\n","\r\n/**\r\n * @imports\r\n */\r\nimport init from './index.js';\r\n\r\n/**\r\n * @init\r\n */\r\ninit(window);"],"sourceRoot":""}